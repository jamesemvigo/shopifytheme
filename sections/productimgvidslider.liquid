{% schema %}
{
  "name": "productimgvidslider",
  "settings": [],
  "presets": [
    {
      "name": "productimgvidslider",
      "category": "Custom"
    }
  ]
}
{% endschema %}

{% stylesheet %}
/* Add your custom CSS styles here */
.slider-container {
  background-color: lightblue; /* Add your desired background color */
  padding: 20px;
}

.autoplay {
  /* Add your custom styles for the autoplay container */
}

.slide {
  /* Add your custom styles for individual slides */
}

.slide img, .slide iframe, .slide video {
  max-width: 100%;
  height: auto;
}
{% endstylesheet %}

{% javascript %}
/* Add your JavaScript code here */
{% endjavascript %}

<div class="slider-container">
  <div class="autoplay">
    {% assign array_of_media = product.metafields.custom.productimageslider.value %}
    {% if array_of_media %}
      {% for media_item in array_of_media %}
        {% assign file_extension = media_item | split: '.' | last | downcase %}
        {% if file_extension == 'jpg' or file_extension == 'jpeg' or file_extension == 'png' %}
          <img src="{{ media_item | image_url }}" alt="Image">
        {% elsif file_extension == 'mp4' %}
          <video controls>
            <source src="{{ media_item }}" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        {% endif %}
      {% endfor %}
    {% endif %}
  </div>
</div>
